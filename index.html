<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Description Generator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    /* Base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, #1a1c20, #24262b, #1d1f23);
      color: #f5f5f5;
      font-family: 'Poppins', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.7;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      padding: 20px;
      background-attachment: fixed;
    }

    /* Weather animations */
    .weather-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    @keyframes rain {
      0% { background-position: 0 0; }
      100% { background-position: 0 100%; }
    }

    @keyframes snow {
      0% { background-position: 0 0; }
      100% { background-position: 20px 100px; }
    }

    @keyframes wind {
      0% { transform: translateX(0); }
      100% { transform: translateX(20px); }
    }

    .weather-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="100" viewBox="0 0 20 100"><line x1="10" y1="0" x2="10" y2="100" stroke="rgba(148, 163, 184, 0.1)" stroke-width="1"/></svg>');
      background-size: 20px 100px;
      animation: rain 1s linear infinite;
      opacity: 0.5;
    }

    .weather-snow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="1.5" fill="rgba(200, 200, 255, 0.2)"/></svg>');
      background-size: 40px 40px;
      animation: snow 10s linear infinite;
      opacity: 0.5;
    }

    .weather-wind {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="20" viewBox="0 0 100 20"><path d="M0,10 Q25,5 50,10 T100,10" stroke="rgba(148, 163, 184, 0.1)" stroke-width="1" fill="none"/></svg>');
      background-size: 100px 20px;
      animation: wind 5s linear infinite;
      opacity: 0.3;
    }

    .weather-sunny {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 10% 20%, rgba(251, 191, 36, 0.05) 0%, transparent 20%),
                  radial-gradient(circle at 90% 80%, rgba(245, 158, 11, 0.05) 0%, transparent 20%);
      opacity: 0.2;
    }

    /* Container */
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    /* Header - Enhanced glass effect */
    header {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px 30px;
      background: rgba(20, 20, 30, 0.25);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      animation: fadeIn 0.8s ease-out;
      transition: all 0.4s ease;
    }

    header:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Gradient border effect - smoother animation */
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 20px;
      /* border: 2px solid transparent;*/
      background: linear-gradient(45deg, #8a2be2, #ff00ff, #4a90e2, #8a2be2) border-box;
      -webkit-mask: 
        linear-gradient(#fff 0 0) padding-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: destination-out;
      mask-composite: exclude;
      z-index: -1;
      animation: borderAnimation 15s ease infinite;
      background-size: 300% 300%;
    }

    @keyframes borderAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    h1 {
      font-size: 3.2rem;
      margin-bottom: 15px;
      font-weight: 700;
      background: linear-gradient(90deg, #f5f5f5, #d4d4d4);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: -0.5px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    #greeting {
      font-size: 2.2rem;
      margin-bottom: 20px;
      font-weight: 400;
      color: #d4d4d4;
      min-height: 2.5rem;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    .name-gradient {
      background: linear-gradient(90deg, #8a2be2, #ff00ff, #4a90e2);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 600;
      animation: gradientAnimation 12s ease infinite;
      background-size: 300% 300%;
    }

    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .subtitle {
      font-size: 1.3rem;
      max-width: 700px;
      margin: 0 auto;
      color: #d4d4d4;
      font-weight: 300;
      line-height: 1.8;
      background: rgba(0, 0, 0, 0.2);
      padding: 15px 25px;
      border-radius: 15px;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    /* Prompt container */
    .prompt-container {
      background: rgba(20, 20, 30, 0.25);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      margin-bottom: 30px;
      animation: slideUp 0.8s ease-out;
      transition: all 0.4s ease;
    }

    .prompt-container:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .prompt-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .prompt-title {
      font-size: 1.8rem;
      font-weight: 600;
      color: #f5f5f5;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .prompt-title i {
      color: #8a2be2;
      font-size: 1.5rem;
    }

    /* Copy button - Smoother gradient effect */
    #copy-button {
      background: linear-gradient(90deg, #8a2be2, #ff00ff, #4a90e2);
      background-size: 300% 300%;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
      animation: gradientAnimation 12s ease infinite;
    }

    #copy-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
    }

    #copy-button:active {
      transform: translateY(1px);
    }

    #copy-button.copied {
      background: linear-gradient(45deg, #4CAF50, #2E7D32);
      box-shadow: 0 6px 20px rgba(46, 125, 50, 0.3);
      animation: none;
    }

    #copy-button.copied::after {
      content: 'Copied!';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(46, 125, 50, 0.9);
    }

    /* Prompt text */
    #prompt-text {
      background: rgba(10, 10, 20, 0.3);
      border-radius: 16px;
      padding: 30px;
      max-height: 500px;
      overflow-y: auto;
      font-family: 'Source Code Pro', monospace;
      font-size: 1.05rem;
      line-height: 1.8;
      color: #f0f0f0;
      border: 1px solid rgba(255, 255, 255, 0.05);
      white-space: pre-wrap;
      backdrop-filter: blur(5px);
    }

    #prompt-text::-webkit-scrollbar {
      width: 10px;
    }

    #prompt-text::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }

    #prompt-text::-webkit-scrollbar-thumb {
      background: linear-gradient(45deg, #8a2be2, #ff00ff, #4a90e2);
      border-radius: 10px;
      background-size: 300% 300%;
      animation: gradientAnimation 12s ease infinite;
    }

    /* Prompt formatting */
    .prompt-section {
      color: #8a2be2;
      font-weight: 600;
      margin-top: 20px;
      margin-bottom: 10px;
      display: block;
    }

    .prompt-subsection {
      color: #ff00ff;
      font-weight: 500;
      margin-top: 15px;
      margin-bottom: 5px;
      display: block;
    }

    .prompt-highlight {
      color: #4a90e2;
      font-weight: 500;
    }

    .prompt-example {
      background: rgba(255, 255, 255, 0.05);
      padding: 10px 15px;
      border-radius: 8px;
      margin: 10px 0;
      display: block;
      border-left: 3px solid #8a2be2;
    }

    .prompt-important {
      color: #ff6b6b;
      font-weight: 600;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      h1 {
        font-size: 2.4rem;
      }
      
      #greeting {
        font-size: 1.8rem;
      }
      
      .prompt-container {
        padding: 20px;
      }
      
      .prompt-header {
        flex-direction: column;
        gap: 20px;
        text-align: center;
      }
      
      #prompt-text {
        padding: 20px;
        font-size: 0.98rem;
      }
      
      #copy-button {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 2rem;
      }
      
      #greeting {
        font-size: 1.5rem;
      }
      
      .subtitle {
        font-size: 1rem;
      }
      
      .prompt-title {
        font-size: 1.5rem;
      }
    }

    /* Loader */
    .loader {
      display: inline-block;
      margin-left: 10px;
    }

    .loader::after {
      content: "";
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid #f5f5f5;
      border-color: #f5f5f5 transparent #f5f5f5 transparent;
      animation: loader 1.2s linear infinite;
    }

    @keyframes loader {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Weather animation container -->
  <div class="weather-animation">
    <div class="weather-rain"></div>
    <div class="weather-snow"></div>
    <div class="weather-wind"></div>
    <div class="weather-sunny"></div>
  </div>
  
  <div class="container">
    <header>
      <h1>Job Description Generator</h1>
      <div id="greeting">Hello<span class="loader"></span></div>
      <p class="subtitle">Create world-class job descriptions, LinkedIn promotions, and screening questions with AI precision</p>
    </header>
    
    <main>
      <div class="prompt-container">
        <div class="prompt-header">
          <h2 class="prompt-title"><i class="fas fa-code"></i> CustomGPT Prompt</h2>
          <button id="copy-button">
            <i class="fas fa-copy"></i> Copy Prompt
          </button>
        </div>
        <pre id="prompt-text"></pre>
      </div>
    </main>
  </div>

  <script>
    // Get query parameter from URL
    function getQueryParam(key) {
      return new URLSearchParams(window.location.search).get(key);
    }

    // Determine greeting by local hour
    function getGreeting(hour) {
      if (hour >= 5 && hour < 12)    return "Good Morning";
      if (hour >= 12 && hour < 18)   return "Good Afternoon";
      if (hour >= 18 && hour < 22)   return "Good Evening";
      return "Hello";
    }

    // Typewriter effect: type text inside an element, one char at a time
    async function typeWriter(element, text, speed = 120) {
      element.textContent = "";
      for (let i = 0; i < text.length; i++) {
        element.textContent += text.charAt(i);
        // Wait before next char
        await new Promise(resolve => setTimeout(resolve, speed));
      }
    }

    // Format prompt text with styling
    function formatPromptText() {
      const promptText = document.getElementById('prompt-text');
      let content = `Purpose:
This all-in-one prompt will guide you through a seamless process to produce world-class job descriptions, LinkedIn job promotions, and first-round candidate screening questions. The system will automatically research, benchmark, and generate outputs tailored to your company, role, and hiring needs, ensuring inclusivity, legal compliance, and standout clarity. No detail or blind spot is left unaddressed.

<span class="prompt-section">1. User Input Workflow (Conversational & Modular)</span>

Request this information up-front, giving helpful examples and allowing "unknown" for any optional item. Explain to the user that the more provided, the more tailored and unique the outcome.

<span class="prompt-subsection">Company Name (required)</span>
<span class="prompt-subsection">Company Website (required for branding/tone research)</span>
<span class="prompt-subsection">Job Title (required; example: "Senior Product Designer", not "Design Guru")</span>
<span class="prompt-subsection">Location (required; Remote, specify timezone, Hybrid, days/week & location, On-site, city/state/country)</span>
<span class="prompt-subsection">Must-Have Qualifications / Experience / Skills (highly recommended, not mandatory)</span>
<span class="prompt-subsection">Nice-To-Have (Preferred) Skills / Experience (optional)</span>
<span class="prompt-subsection">Reporting Structure (optional, who does this role report to? If unspecified, AI will auto-benchmark against industry/LinkedIn best practices)</span>
<span class="prompt-subsection">Team Details (optional, size, focus, energy)</span>
<span class="prompt-subsection">Salary Range (optional; if missing, AI benchmarks will auto-fill)</span>
<span class="prompt-subsection">Unique Perks, Benefits, or Cultural Elements (optional but can be a powerful attractor)</span>
<span class="prompt-subsection">Any critical requirements or deal-breakers? (optional; used for filtering)</span>

If any input is missing, the assistant will:
Use advanced multi-platform research (Glassdoor, LinkedIn, Reddit, salary aggregators, company site, and open data) to autofill gaps.
Where autofilling is required, outputs clearly state "Estimated based on [sources]. Please verify for accuracy."

<span class="prompt-section">2. Dynamic Research Protocol (Runs Automatically)</span>

<span class="prompt-subsection">Scrape Company Channels:</span> Mirror copy, sentence length, and tone/branding from "About Us," "Culture," and recent news/Careers content.

<span class="prompt-subsection">Salary Benchmarking:</span> Collate data from Glassdoor (company & role), Payscale, Indeed, Levels.fyi (for tech roles), public Reddit threads, plus industry-wide benchmarks. Clearly display a salary range + citation if AI-generated.

<span class="prompt-subsection">Culture & Sentiment Check:</span> Aggregate real insights from Reddit/Blind/LinkedIn.

<span class="prompt-subsection">Competitive Market Comparison:</span> Review 3 top LinkedIn job posts for attention-catching phrases, responsibilities, and design.

<span class="prompt-subsection">Reporting Structure Guess:</span> If user does not specify, auto-benchmark reporting line using LinkedIn and industry standards for similar roles/titles.

<span class="prompt-section">3. Output 1: Dynamic, Inclusive Job Description (Table-Free, Bullet-First, Short-Paragraph Only!)</span>

<span class="prompt-important">Enforced Rules:</span>

- Never use any em dashes — or this character: —
- Max 15 words per sentence. No paragraph over 3 lines.
- Short, easy-to-read, accessible sentences. No jargon or abbreviations without first explaining them.
- Bias, gender, and ADA (Americans with Disabilities Act) checks applied for clarity and legal compliance.
- Bold section headers for impact (mark with "**" for clarity).
- End each section with a line break, not a table.
- Use hyphens or commas only—never an em dash or —
- If output published elsewhere (like LinkedIn, Greenhouse), format so it looks visually clean and inviting.

<span class="prompt-subsection">Section Flow (with sample prompts for AI to fill as needed):</span>

<span class="prompt-highlight">Company:</span> [Dynamic from user company name]

<span class="prompt-highlight">Job Title:</span> [Dynamic from user, no jargon]

<span class="prompt-highlight">Location:</span> [Remote, Hybrid, or On-site + details]

<span class="prompt-highlight">About Us:</span>
[A two-sentence overview mirroring company's actual tone. E.g., "At AcmeTech, we create AI tools to democratize education. Join us to build technology that impacts millions."]

<span class="prompt-highlight">Your Impact:</span>
[1 sentence - why this job matters for candidates and the company]
[1 sentence about the immediate team or context]
[1 success metric sentence ("You'll help launch 3 product features/quarter.")]

<span class="prompt-highlight">Key Responsibilities:</span>
- Action verbs only: Drive, Design, Optimize, etc.
- Focus on outcomes, not "responsible for..."
- 4–8 bullet points, each specific and measurable to the role/title/industry, may have more than 8 bullet points based on the job role, industry or user request.

<span class="prompt-highlight">Required Qualifications:</span>
- Only those essential for on-the-job success (no "ninja" or "rockstar")
- Eg: "3+ years in consumer SaaS design" or "Deep Adobe XD skills"

<span class="prompt-highlight">Preferred Qualifications:</span>
- Clearly labeled as "Bonus if you have..." - no pressure
- Eg: "Experience working with Webflow is a plus."

<span class="prompt-highlight">Skills and Competencies:</span>
- 2-6 bullets for technical skills/tools
- 2-6 bullets for key soft skills (stakeholder negotiation, agile teamwork)

<span class="prompt-highlight">Salary & Benefits:</span>
[If user provided, state range. If missing, show researched data: "Estimated $XX,XXX–$YY,YYY (Glassdoor, Reddit)"]
List 2-4 unique perks (e.g., "Unlimited paid time off," "Quarterly wellness retreats," "Home office stipend") in bullet points, may have more than 4 bullet points based on the research and/or user input

<span class="prompt-highlight">Reporting Structure:</span>
"This role reports to: [Manager/Director/VP/etc.]."
[If not specified, auto-benchmarked from LinkedIn/industry for similar titles — always state how this was determined.]

<span class="prompt-highlight">Hiring Process:</span>
[Dynamically populated: pull user's real process if provided. If not, suggest a default, eg:]
- 15-minute introductory call (screening)
- 1-hour hiring manager interview (deep dive)
- Team/Skill Assessment or Portfolio Review (optional, only if practice in industry)
- Final culture/team call (optional, if company culture-focused)
- Offer stage — Fast, friendly communication throughout!

"We encourage applications from candidates of all backgrounds. We're an Equal Opportunity Employer. If you need accommodations, just let us know!"

<span class="prompt-important">[Important: Do not use any em dashes (—) or this symbol —. Use only hyphens or commas.]</span>

<span class="prompt-section">4. Output 2: LinkedIn Job Post (Super Engaging, Brief, Table-Free!)</span>

Write in company-benchmarked tone; max 3 sentences; emojis only if user's company page uses them.

Laser focus on "this job's true impact" and 1-2 critical must-have requirements for quick filtering.

<span class="prompt-subsection">Example:</span>
<span class="prompt-example">Join [Company]!
We're hiring a [Job Title] to [top mission/impact]. If you thrive in [dynamic/innovative/collaborative] settings and have [must-have skill], let's talk!
Apply today, help us shape the future.

#Hiring #[JobTitle] #[Location] #[Industry]
(Tag someone who'd excel at this!)</span>

<span class="prompt-section">5. Output 3: Introductory Call Questions (5 Max, Screening-Optimized, Quick-Weed)</span>

- Tailored to the specific role and must-have requirements
- Each question is short, direct, and fits a 15-minute screening
- At least one "silent" disqualifier (ex: scheduling/remote setup, compensation, or non-negotiable cultural/technical fit)

<span class="prompt-subsection">Example:</span>
1. Can you walk me through your experience with [core required skill]?
2. What excites you about joining [Company] in this role?
3. Tell me about a project where you [achieved a specific JD outcome].
4. What are your salary expectations? [If not already discussed]
5. [Disqualifier]: For remote roles, describe your typical setup and timezone. [Flag mismatches instantly.]

<span class="prompt-section">6. Execution Safeguards & Customization Commands</span>

<span class="prompt-subsection">Automatic Tone Matching:</span> Scrape and mimic company style and sentence structure from public web and social content.

<span class="prompt-subsection">Bias and Accessibility Screening:</span> Always run outputs through gender/inclusivity and legal bias checks. Never reference "aggressive," "native speaker," "must be young," etc; replace with neutral, inclusive alternatives.

<span class="prompt-subsection">Salary Disclaimers:</span> For all AI-generated salary bands, note "Estimates provided; confirm with HR."

<span class="prompt-subsection">Reporting Line Identification:</span> Use titles found for similar listed jobs on LinkedIn, check benchmarks, and cite "Based on industry research" when outputting reporting structure.

<span class="prompt-subsection">Dynamic Outputs:</span> All hiring process, reporting line, perks, and requirements fields are determined ≥90% by user input, else by AI audit of market standards for similar roles/companies.

<span class="prompt-subsection">Section Skipping:</span> Tell user "Type 'unknown' to skip (useful if you want an AI-optimized suggestion)."

<span class="prompt-subsection">Customization:</span> User may request: "Make JD more friendly/technical/brief," "Rewrite LinkedIn post for a formal audience," "Adjust key screening question focus," etc.

<span class="prompt-section">Reminder:</span>
Never, under any circumstances, use em dashes — or this symbol — anywhere in the outputs, regardless of formatting or paraphrasing. Always use hyphens, commas, or other punctuation as appropriate.

<span class="prompt-section">How to Use:</span>
Provide the inputs above. The system will auto-research, benchmark, and output a smart, compliant, and visually striking job description, LinkedIn post, and screening flow-ready for instant use, further refinement, or direct posting.`;

      promptText.innerHTML = content;
    }

    // Copy button functionality
    function setupCopyButton() {
      const copyButton = document.getElementById('copy-button');
      const promptText = document.getElementById('prompt-text');
      
      copyButton.addEventListener('click', async () => {
        try {
          // Get text without HTML tags
          const textToCopy = promptText.innerText;
          await navigator.clipboard.writeText(textToCopy);
          
          // Visual feedback
          copyButton.classList.add('copied');
          setTimeout(() => {
            copyButton.classList.remove('copied');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy text: ', err);
          alert('Failed to copy text to clipboard');
        }
      });
    }

    document.addEventListener("DOMContentLoaded", async function () {
      // Format the prompt text
      formatPromptText();
      
      // Setup copy button
      setupCopyButton();
      
      const name = getQueryParam("name");
      const greetingElement = document.getElementById("greeting");
      
      // Get timezone
      let timezone = null;
      
      try {
        // Get location and timezone from IP
        const res = await fetch("https://ipapi.co/json/");
        if (!res.ok) throw new Error(`ipapi.co responded with status ${res.status}`);
        const data = await res.json();
        timezone = data.timezone;
      } catch (error) {
        console.warn("Failed to get location data, using fallback:", error);
        timezone = Intl.DateTimeFormat().resolvedOptions().timeZone || null;
      }
      
      // Get hour based on detected/fallback timezone or local time
      const now = timezone
        ? new Date(new Date().toLocaleString("en-US", { timeZone: timezone }))
        : new Date();
      
      const greeting = getGreeting(now.getHours());
      
      // Compose greeting
      if (name) {
        greetingElement.innerHTML = greeting + " <span class='name-gradient'></span>,";
        const nameSpan = greetingElement.querySelector('.name-gradient');
        await typeWriter(nameSpan, name, 120);
      } else {
        greetingElement.innerHTML = "<span class='name-gradient'>" + greeting + "</span>,";
      }
      
      // Show a random weather animation
      const animations = ['weather-rain', 'weather-snow', 'weather-wind', 'weather-sunny'];
      const randomIndex = Math.floor(Math.random() * animations.length);
      const selectedAnimation = animations[randomIndex];
      
      // Hide all animations first
      document.querySelectorAll('.weather-rain, .weather-snow, .weather-wind, .weather-sunny').forEach(el => {
        el.style.display = 'none';
      });
      
      // Show the selected animation
      document.querySelector(`.${selectedAnimation}`).style.display = 'block';
    });
  </script>
</body>
</html>
